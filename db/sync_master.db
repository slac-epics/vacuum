record(calcout, "$(IOC):ScanPacer") {
  field(DESC, "Master Scan Pacer")
  field(SCAN, "$(scanRate)")
  field(CALC, "(A+1)%4")
  field(INPA, "$(IOC):ScanPacer")
  field(OUT,  "$(IOC):ScanEvtSeq.PROC")
  field(OOPT, "When Zero")
  field(DOPT, "Use OCAL")
  field(OCAL, "1")
}

record(calcout, "$(IOC):ScanEvtSeq") {
  field(DESC, "Master Scan Event Sequencer")
  field(SCAN, "Passive")
  field(CALC, "(A+1)%15")
  field(INPA, "$(IOC):ScanEvtSeq")
  field(OUT,  "$(IOC):ScanEvtGen.VAL PP")
  field(OOPT, "Every Time")
  field(DOPT, "Use OCAL")
  field(OCAL, "(A==0)?$(slowEvt):(((A%5)==4)?$(medEvt):$(fastEvt))")
}

record(event, "$(IOC):ScanEvtGen") {
  field(DESC, "Master Scan Event Generator")
  field(SCAN, "Passive")
}

